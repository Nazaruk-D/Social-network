"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[608],{4608:function(e,s,t){t.r(s),t.d(s,{default:function(){return me}});var i=t(5671),n=t(3144),o=t(136),r=t(5716),a=t(2791),l="Profile_profileContainer__GK-ND",u=t(885),c=t(5987),d="ProfileInfo_profileInfoContainer__9v5Ik",f="ProfileInfo_profileInfoBlock__goYeC",p="ProfileInfo_avatarBlock__21pru",h="ProfileInfo_mainAvatar__jA7Gf",v="ProfileInfo_avatar__KQ0zh",m="ProfileInfo_updatePhoto__ASuP0",_="ProfileInfo_profileBlock__5piPY",j="ProfileInfo_profileStatus__jnFRU",x="ProfileInfo_profileDataForm__O8l5p",k="ProfileInfo_buttonEditProfile__2LsHa",P=t(184),g=function(e){(0,o.Z)(t,e);var s=(0,r.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=s.call.apply(s,[this].concat(o))).state={editMode:!1,status:e.props.status},e.activateEditeMode=function(){e.setState({editMode:!0})},e.deactivateEditeMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(s){e.setState({status:s.currentTarget.value})},e}return(0,n.Z)(t,[{key:"componentDidUpdate",value:function(e,s,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,P.jsxs)("div",{children:[!this.state.editMode&&(0,P.jsx)("div",{children:(0,P.jsx)("span",{onDoubleClick:this.activateEditeMode,children:this.props.status?this.props.status:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),this.state.editMode&&(0,P.jsx)("div",{children:(0,P.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditeMode,autoFocus:!0})})]})}}]),t}(a.Component),y=g,N=t(2994),b=function(e){var s=e.profile;return(0,P.jsxs)("form",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full Name"}),": ",(0,N.Gr)("Full name","fullname",[],N.II)]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,P.jsx)("div",{}),(0,P.jsx)("button",{onClick:function(){},children:"save"})]})},M=t(5861),C=t(7757),S=t.n(C),A=(t(6072),t(1297)),w=t(3442),I=t(4415),Z=t(4136),D=function(){var e=(0,I.TL)(),s=(0,A.Uploader)({apiKey:"free"}),t=function(){var s=(0,M.Z)(S().mark((function s(t){var i,n,o;return S().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,fetch(t);case 3:return i=s.sent,s.next=6,i.blob();case 6:n=s.sent,o=new File([n],"image.jpg",{type:n.type}),e((0,Z.Ju)(o));case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,P.jsx)("div",{children:(0,P.jsx)(w.UploadButton,{uploader:s,options:{multi:!1,editor:{images:{crop:!0}}},onComplete:function(e){return function(e){t(e[0].fileUrl)}(e)},children:function(e){var s=e.onClick;return(0,P.jsx)("button",{onClick:s,style:{marginTop:"75px"},children:"Upload a file..."})}})})},F=t(1335),B=["profile","isOwner","savePhoto"],U=function(e){var s=e.profile,t=e.isOwner,i=(e.savePhoto,(0,c.Z)(e,B)),n=(0,a.useState)(!1),o=(0,u.Z)(n,2),r=o[0],l=o[1];return(0,P.jsx)("div",{className:d,children:(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("div",{className:p,children:(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("img",{src:null!==(null===s||void 0===s?void 0:s.photos.large)?null===s||void 0===s?void 0:s.photos.large:(0,F.s)(),className:v}),(0,P.jsx)("div",{className:m,children:(0,P.jsx)(D,{})})]})}),(0,P.jsxs)("div",{className:_,children:[(0,P.jsxs)("div",{className:j,children:[(0,P.jsx)("div",{children:"Status:"}),(0,P.jsx)(y,{status:i.status,updateStatus:i.updateStatus})]}),r?(0,P.jsx)("div",{className:x,children:(0,P.jsx)(b,{profile:s})}):(0,P.jsx)("div",{className:x,children:(0,P.jsx)(E,{goToEditMode:function(){return l(!0)},profile:s,isOwner:t})})]})]})})},E=function(e){var s=e.profile,t=e.isOwner,i=e.goToEditMode;return(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full Name"}),": ",s.fullName]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,P.jsx)("div",{}),t&&(0,P.jsx)("button",{onClick:i,className:k,children:"edit"})]})},J="MyPosts_myPostContainer__3vuVZ",L="MyPosts_addForm__CwT0C",T="MyPosts_formContainer__Vqz3M",O="MyPosts_textArea__M7vK7",K="MyPosts_addPostButton__Lcz4a",V="MyPosts_messageBlock__4JDWJ",z="MyPosts_item__ydHH-",G="MyPosts_paginationBlock__3AASw",Q="MyPosts_pagination__NnNu+",H="Post_postContainer__jxQ-s",R="Post_avaBlock__8rQEc",$="Post_ava__wjWVP",q="Post_textBlock__UkJVG",W="Post_name__Xr5Bj",Y="Post_message__Qy6Nf",X="Post_like__wVdVD",ee=t(6060),se=function(e){return(0,P.jsxs)("div",{className:H,children:[(0,P.jsx)("div",{className:R,children:(0,P.jsx)("img",{src:e.img,alt:"avatar",className:$})}),(0,P.jsxs)("div",{className:q,children:[(0,P.jsx)("div",{className:W,children:e.name}),(0,P.jsx)("div",{className:Y,children:e.post})]}),(0,P.jsx)("img",{src:ee,alt:"likePNG",className:X,onClick:function(){return e.addLike(e.p.id)}})," ",e.likesCount]})},te=t(6139),ie=t(704),ne=t(5304),oe=a.memo((function(e){for(var s=(0,a.useState)(1),t=(0,u.Z)(s,2),i=t[0],n=t[1],o=e.state.postData,r=Math.ceil(o.length/5),l=[],c=1;c<r+1;c++)l.push(c);var d=function(e){if(1===e)return o.slice(0,5);if(e>1){var s=5*e-5,t=5*e;return o.slice(s,t)}}(i),f=d.map((function(s){return(0,P.jsx)("div",{children:(0,P.jsx)(se,{img:s.avatar,name:s.name,post:s.message,likesCount:s.likesCount,buttonName:"Like",addLike:e.addLike,p:s})},s.id)})),p=l.map((function(e,s){var t=i===e?{color:"rgb(211, 181, 91)"}:{};return(0,P.jsx)("span",{className:Q,style:t,onClick:function(){return n(e)},children:e},s)}));return(0,P.jsxs)("div",{className:J,children:[(0,P.jsx)("div",{className:L,children:(0,P.jsx)(ae,{onSubmit:function(s){e.addPost(s.newMessageBody)}})}),(0,P.jsx)("div",{className:V,children:(0,P.jsx)("div",{className:z,children:f})}),(0,P.jsx)("div",{className:G,children:p.length>1&&p})]})})),re=(0,ne.D)(10),ae=(0,ie.Z)({form:"profileAddMessageForm"})((function(e){var s=(0,I.TL)();return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,className:T,children:[(0,P.jsx)(te.Z,{component:N.Kx,name:"newMessageBody",placeholder:"Enter your message",className:O,validate:[ne.C,re],onKeyDown:function(e){13===e.keyCode&&s((0,Z.Pi)(e.currentTarget.value))}}),(0,P.jsx)("button",{className:K,children:"AddPost"})]})})),le=t(8687),ue=(0,le.$j)((function(e){return{state:e.profile}}),(function(e){return{addPost:function(s){e((0,Z.Pi)(s))},addLike:function(s){e((0,Z.dE)(s))}}}))(oe),ce=t(4667),de=function(e){return e.profile?(0,P.jsxs)("div",{className:l,children:[(0,P.jsx)(U,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,P.jsx)(ue,{})]}):(0,P.jsx)(ce.p,{})},fe=t(9271),pe=t(2932),he=t(7781),ve=function(e){(0,o.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(de,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})}}]),t}(a.Component),me=(0,he.qC)((0,le.$j)((function(e){return{profile:e.profile.profile,status:e.profile.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfileThunk:Z.TE,getStatus:Z.lR,updateStatus:Z.Nf,savePhoto:Z.Ju}),fe.EN,pe.D)(ve)},2932:function(e,s,t){t.d(s,{D:function(){return d}});var i=t(8683),n=t(5987),o=(t(2791),t(9271)),r=t(8687),a=t(2717),l=t(184),u=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function d(e){return(0,r.$j)(c,{getAuthUserData:a.RK,logout:a.kS})((function(s){var t=s.isAuth,r=(0,n.Z)(s,u);return t?(0,l.jsx)(e,(0,i.Z)({},r)):(0,l.jsx)(o.l_,{to:"/login"})}))}},6060:function(e,s,t){e.exports=t.p+"static/media/like.3bd2642bff63c07e1428.png"}}]);
//# sourceMappingURL=608.45f3ed37.chunk.js.map