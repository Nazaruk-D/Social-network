"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[608],{4608:function(t,s,e){e.r(s),e.d(s,{default:function(){return W}});var o=e(5671),i=e(3144),a=e(136),n=e(1129),r=e(2791),l="Profile_profileContainer__GK-ND",u=e(9439),d=e(5987),c={profileInfoContainer:"ProfileInfo_profileInfoContainer__9v5Ik",profileInfoBlock:"ProfileInfo_profileInfoBlock__goYeC",mainAva:"ProfileInfo_mainAva__1uJJU",uploadPhotoBlock:"ProfileInfo_uploadPhotoBlock__usFJj",supportText:"ProfileInfo_supportText__YZUeA",uploadPhoto:"ProfileInfo_uploadPhoto__1VHeP",inputUploadPhoto:"ProfileInfo_inputUploadPhoto__UajYh",profileStatus:"ProfileInfo_profileStatus__jnFRU",profileDataForm:"ProfileInfo_profileDataForm__O8l5p"},p=e(184),f=function(t){(0,a.Z)(e,t);var s=(0,n.Z)(e);function e(){var t;(0,o.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=s.call.apply(s,[this].concat(a))).state={editMode:!1,status:t.props.status},t.activateEditeMode=function(){t.setState({editMode:!0})},t.deactivateEditeMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,i.Z)(e,[{key:"componentDidUpdate",value:function(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,p.jsxs)("div",{children:[!this.state.editMode&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:this.activateEditeMode,children:this.props.status?this.props.status:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),this.state.editMode&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditeMode,autoFocus:!0})})]})}}]),e}(r.Component),h=f,m=e(4353),j=e(2994),v=function(t){var s=t.profile;return(0,p.jsxs)("form",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full Name"}),": ",(0,j.Gr)("Full name","fullname",[],j.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,p.jsx)("div",{}),(0,p.jsx)("button",{onClick:function(){},children:"save"})]})},x=e(9303),_=e(7017),P=e(4410),k=(e(6072),e(4136)),g=function(){return(0,p.jsx)(_.Z,{children:(0,p.jsx)(P.Z,{onChange:function(t){t.target.files[0]&&(0,k.Ju)(t.target.files[0])},children:"+ Add image"})})},b=["profile","isOwner","savePhoto"],N=function(t){var s=t.profile,e=t.isOwner,o=t.savePhoto,i=(0,d.Z)(t,b),a=(0,r.useState)(!1),n=(0,u.Z)(a,2),l=n[0],f=n[1];return(0,p.jsx)("div",{className:c.profileInfoContainer,children:(0,p.jsxs)("div",{className:c.profileInfoBlock,children:[(0,p.jsx)(g,{}),(0,p.jsx)("img",{src:(null===s||void 0===s?void 0:s.photos.large)||m,className:c.mainAva}),e&&(0,p.jsxs)("label",{htmlFor:"inputTag",children:[(0,p.jsxs)("div",{className:c.uploadPhotoBlock,children:[(0,p.jsx)("div",{className:c.supportText,children:"Click to upload photo"}),(0,p.jsx)("img",{src:x,alt:"uploadPhoto",className:c.uploadPhoto})]}),(0,p.jsx)("input",{id:"inputTag",type:"file",onChange:function(t){t.target.files[0]&&o(t.target.files[0])},className:c.inputUploadPhoto})]}),(0,p.jsxs)("div",{className:c.profileStatus,children:[(0,p.jsx)("div",{children:"Status:"}),(0,p.jsx)(h,{status:i.status,updateStatus:i.updateStatus})]}),l?(0,p.jsx)("div",{className:c.profileDataForm,children:(0,p.jsx)(v,{profile:s})}):(0,p.jsx)("div",{className:c.profileDataForm,children:(0,p.jsx)(y,{goToEditMode:function(){return f(!0)},profile:s,isOwner:e})})]})})},y=function(t){var s=t.profile,e=t.isOwner,o=t.goToEditMode;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full Name"}),": ",s.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,p.jsx)("div",{}),e&&(0,p.jsx)("button",{onClick:o,className:c.buttonEditProfile,children:"edit"})]})},C="MyPosts_myPostContainer__3vuVZ",M="MyPosts_addForm__CwT0C",I="MyPosts_formContainer__Vqz3M",S="MyPosts_textArea__M7vK7",A="MyPosts_addPostButton__Lcz4a",F="MyPosts_item__ydHH-",w="Post_postContainer__jxQ-s",Z="Post_avaBlock__8rQEc",D="Post_ava__wjWVP",U="Post_textBlock__UkJVG",B="Post_like__wVdVD",J=e(6060),T=function(t){return(0,p.jsxs)("div",{className:w,children:[(0,p.jsx)("div",{className:Z,children:(0,p.jsx)("img",{src:t.img,alt:"avatar",className:D})}),(0,p.jsx)("div",{className:U,children:t.post}),(0,p.jsx)("img",{src:J,alt:"likePNG",className:B})," ",t.likesCount]})},E=e(6139),O=e(704),V=e(5304),z=r.memo((function(t){var s=t.state.postData.map((function(t){return(0,p.jsx)("div",{children:(0,p.jsx)(T,{img:t.avatar,post:t.message,likesCount:t.likesCount,buttonName:"Like"})},t.id)}));return(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("div",{className:M,children:(0,p.jsx)(L,{onSubmit:function(s){t.addPost(s.newMessageBody)}})}),(0,p.jsx)("div",{className:F,children:s})]})})),G=(0,V.D)(10),L=(0,O.Z)({form:"profileAddMessageForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,className:I,children:[(0,p.jsx)(E.Z,{component:j.Kx,name:"newMessageBody",placeholder:"Enter your message",className:S,validate:[V.C,G]}),(0,p.jsx)("button",{className:A,children:"AddPost"})]})})),H=e(8687),K=(0,H.$j)((function(t){return{state:t.profile}}),(function(t){return{addPost:function(s){t((0,k.Pi)(s))}}}))(z),Y=e(4945),q=function(t){return t.profile?(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(N,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,savePhoto:t.savePhoto}),(0,p.jsx)(K,{})]}):(0,p.jsx)(Y.Z,{color:"#b70000",size:50})},Q=e(9271),R=e(7781),$=function(t){(0,a.Z)(e,t);var s=(0,n.Z)(e);function e(){return(0,o.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(q,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})}}]),e}(r.Component),W=(0,R.qC)((0,H.$j)((function(t){return{profile:t.profile.profile,status:t.profile.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{setUserProfileThunk:k.TE,getStatus:k.lR,updateStatus:k.Nf,savePhoto:k.Ju}),Q.EN)($)},6060:function(t,s,e){t.exports=e.p+"static/media/like.3bd2642bff63c07e1428.png"},9303:function(t,s,e){t.exports=e.p+"static/media/uploadPhoto.c852c1c855e73d3be7ff.png"}}]);
//# sourceMappingURL=608.9bad7233.chunk.js.map