"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[608],{4608:function(e,s,t){t.r(s),t.d(s,{default:function(){return Pe}});var o=t(5671),i=t(3144),n=t(136),a=t(5716),r=t(2791),l="Profile_profileContainer__GK-ND",u=t(885),c=t(5987),d="ProfileInfo_profileInfoContainer__9v5Ik",p="ProfileInfo_profileInfoBlock__goYeC",f="ProfileInfo_avatarBlock__21pru",h="ProfileInfo_mainAvatar__jA7Gf",m="ProfileInfo_avatar__KQ0zh",_="ProfileInfo_updatePhoto__ASuP0",v="ProfileInfo_uploadPhotoBlock__usFJj",j="ProfileInfo_supportText__YZUeA",x="ProfileInfo_uploadPhoto__1VHeP",P="ProfileInfo_inputUploadPhoto__UajYh",k="ProfileInfo_profileBlock__5piPY",g="ProfileInfo_profileStatus__jnFRU",N="ProfileInfo_profileDataForm__O8l5p",y="ProfileInfo_buttonEditProfile__2LsHa",b=t(184),C=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=s.call.apply(s,[this].concat(n))).state={editMode:!1,status:e.props.status},e.activateEditeMode=function(){e.setState({editMode:!0})},e.deactivateEditeMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(s){e.setState({status:s.currentTarget.value})},e}return(0,i.Z)(t,[{key:"componentDidUpdate",value:function(e,s,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,b.jsxs)("div",{children:[!this.state.editMode&&(0,b.jsx)("div",{children:(0,b.jsx)("span",{onDoubleClick:this.activateEditeMode,children:this.props.status?this.props.status:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),this.state.editMode&&(0,b.jsx)("div",{children:(0,b.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditeMode,autoFocus:!0})})]})}}]),t}(r.Component),M=C,I=t(2994),S=function(e){var s=e.profile;return(0,b.jsxs)("form",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Full Name"}),": ",(0,I.Gr)("Full name","fullname",[],I.II)]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,b.jsx)("div",{}),(0,b.jsx)("button",{onClick:function(){},children:"save"})]})},w=t(9303),A=t(5861),F=t(7757),Z=t.n(F),U=(t(6072),t(1297)),B=t(3442),T=t(4415),D=t(4136),E=function(){var e=(0,T.TL)(),s=(0,U.Uploader)({apiKey:"free"}),t=function(){var s=(0,A.Z)(Z().mark((function s(t){var o,i,n;return Z().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(t);case 2:return o=s.sent,s.next=5,o.blob();case 5:i=s.sent,n=new File([i],"image.jpg",{type:i.type}),console.log(n),e((0,D.Ju)(n));case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsx)(B.UploadButton,{uploader:s,options:{multi:!1},onComplete:function(e){return function(e){t(e[0].fileUrl)}(e)},children:function(e){var s=e.onClick;return(0,b.jsx)("button",{onClick:s,style:{marginTop:"75px"},children:"Upload a file..."})}})})},J=t(1335),L=["profile","isOwner","savePhoto"],O=function(e){var s=e.profile,t=e.isOwner,o=e.savePhoto,i=(0,c.Z)(e,L),n=(0,r.useState)(!1),a=(0,u.Z)(n,2),l=a[0],y=a[1];return(0,b.jsx)("div",{className:d,children:(0,b.jsxs)("div",{className:p,children:[(0,b.jsxs)("div",{className:f,children:[(0,b.jsxs)("div",{className:h,children:[(0,b.jsx)("img",{src:null!==(null===s||void 0===s?void 0:s.photos.large)?null===s||void 0===s?void 0:s.photos.large:(0,J.s)(),className:m}),(0,b.jsx)("div",{className:_,children:(0,b.jsx)(E,{})})]}),t&&(0,b.jsxs)("label",{htmlFor:"inputTag",children:[(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)("div",{className:j,children:"Click to upload photo"}),(0,b.jsx)("img",{src:w,alt:"uploadPhoto",className:x})]}),(0,b.jsx)("input",{id:"inputTag",type:"file",onChange:function(e){e.target.files[0]&&(o(e.target.files[0]),console.log(e.target.files[0]))},className:P})]})]}),(0,b.jsxs)("div",{className:k,children:[(0,b.jsxs)("div",{className:g,children:[(0,b.jsx)("div",{children:"Status:"}),(0,b.jsx)(M,{status:i.status,updateStatus:i.updateStatus})]}),l?(0,b.jsx)("div",{className:N,children:(0,b.jsx)(S,{profile:s})}):(0,b.jsx)("div",{className:N,children:(0,b.jsx)(V,{goToEditMode:function(){return y(!0)},profile:s,isOwner:t})})]})]})})},V=function(e){var s=e.profile,t=e.isOwner,o=e.goToEditMode;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Full Name"}),": ",s.fullName]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,b.jsx)("div",{}),t&&(0,b.jsx)("button",{onClick:o,className:y,children:"edit"})]})},K="MyPosts_myPostContainer__3vuVZ",z="MyPosts_addForm__CwT0C",G="MyPosts_formContainer__Vqz3M",H="MyPosts_textArea__M7vK7",Q="MyPosts_addPostButton__Lcz4a",Y="MyPosts_messageBlock__4JDWJ",q="MyPosts_item__ydHH-",R="MyPosts_paginationBlock__3AASw",W="MyPosts_pagination__NnNu+",$="Post_postContainer__jxQ-s",X="Post_avaBlock__8rQEc",ee="Post_ava__wjWVP",se="Post_textBlock__UkJVG",te="Post_name__Xr5Bj",oe="Post_message__Qy6Nf",ie="Post_like__wVdVD",ne=t(6060),ae=function(e){return(0,b.jsxs)("div",{className:$,children:[(0,b.jsx)("div",{className:X,children:(0,b.jsx)("img",{src:e.img,alt:"avatar",className:ee})}),(0,b.jsxs)("div",{className:se,children:[(0,b.jsx)("div",{className:te,children:e.name}),(0,b.jsx)("div",{className:oe,children:e.post})]}),(0,b.jsx)("img",{src:ne,alt:"likePNG",className:ie,onClick:function(){return e.addLike(e.p.id)}})," ",e.likesCount]})},re=t(6139),le=t(704),ue=t(5304),ce=r.memo((function(e){for(var s=(0,r.useState)(1),t=(0,u.Z)(s,2),o=t[0],i=t[1],n=e.state.postData,a=Math.ceil(n.length/5),l=[],c=1;c<a+1;c++)l.push(c);var d=function(e){if(1===e)return n.slice(0,5);if(e>1){var s=5*e-5,t=5*e;return n.slice(s,t)}}(o),p=d.map((function(s){return(0,b.jsx)("div",{children:(0,b.jsx)(ae,{img:s.avatar,name:s.name,post:s.message,likesCount:s.likesCount,buttonName:"Like",addLike:e.addLike,p:s})},s.id)})),f=l.map((function(e,s){var t=o===e?{color:"rgb(211, 181, 91)"}:{};return(0,b.jsx)("span",{className:W,style:t,onClick:function(){return i(e)},children:e},s)}));return(0,b.jsxs)("div",{className:K,children:[(0,b.jsx)("div",{className:z,children:(0,b.jsx)(pe,{onSubmit:function(s){e.addPost(s.newMessageBody)}})}),(0,b.jsx)("div",{className:Y,children:(0,b.jsx)("div",{className:q,children:p})}),(0,b.jsx)("div",{className:R,children:f})]})})),de=(0,ue.D)(10),pe=(0,le.Z)({form:"profileAddMessageForm"})((function(e){var s=(0,T.TL)();return(0,b.jsxs)("form",{onSubmit:e.handleSubmit,className:G,children:[(0,b.jsx)(re.Z,{component:I.Kx,name:"newMessageBody",placeholder:"Enter your message",className:H,validate:[ue.C,de],onKeyDown:function(e){13===e.keyCode&&s((0,D.Pi)(e.currentTarget.value))}}),(0,b.jsx)("button",{className:Q,children:"AddPost"})]})})),fe=t(8687),he=(0,fe.$j)((function(e){return{state:e.profile}}),(function(e){return{addPost:function(s){e((0,D.Pi)(s))},addLike:function(s){e((0,D.dE)(s))}}}))(ce),me=t(4667),_e=function(e){return e.profile?(0,b.jsxs)("div",{className:l,children:[(0,b.jsx)(O,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,b.jsx)(he,{})]}):(0,b.jsx)(me.p,{})},ve=t(9271),je=t(7781),xe=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,b.jsx)(_e,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})}}]),t}(r.Component),Pe=(0,je.qC)((0,fe.$j)((function(e){return{profile:e.profile.profile,status:e.profile.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfileThunk:D.TE,getStatus:D.lR,updateStatus:D.Nf,savePhoto:D.Ju}),ve.EN)(xe)},6060:function(e,s,t){e.exports=t.p+"static/media/like.3bd2642bff63c07e1428.png"},9303:function(e,s,t){e.exports=t.p+"static/media/uploadPhoto.c852c1c855e73d3be7ff.png"}}]);
//# sourceMappingURL=608.a028d2c4.chunk.js.map