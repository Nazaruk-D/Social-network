"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[608],{4608:function(e,s,t){t.r(s),t.d(s,{default:function(){return ve}});var i=t(5671),o=t(3144),n=t(136),r=t(5716),a=t(2791),l="Profile_profileContainer__GK-ND",u=t(885),d=t(5987),c="ProfileInfo_profileInfoContainer__9v5Ik",p="ProfileInfo_profileInfoBlock__goYeC",f="ProfileInfo_avatarBlock__21pru",h="ProfileInfo_mainAvatar__jA7Gf",v="ProfileInfo_avatar__KQ0zh",m="ProfileInfo_updatePhoto__ASuP0",_="ProfileInfo_profileBlock__5piPY",j="ProfileInfo_profileStatus__jnFRU",x="ProfileInfo_profileDataForm__O8l5p",P="ProfileInfo_buttonEditProfile__2LsHa",k=t(184),g=function(e){(0,n.Z)(t,e);var s=(0,r.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).state={editMode:!1,status:e.props.status},e.activateEditeMode=function(){e.setState({editMode:!0})},e.deactivateEditeMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(s){e.setState({status:s.currentTarget.value})},e}return(0,o.Z)(t,[{key:"componentDidUpdate",value:function(e,s,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,k.jsxs)("div",{children:[!this.state.editMode&&(0,k.jsx)("div",{children:(0,k.jsx)("span",{onDoubleClick:this.activateEditeMode,children:this.props.status?this.props.status:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),this.state.editMode&&(0,k.jsx)("div",{children:(0,k.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditeMode,autoFocus:!0})})]})}}]),t}(a.Component),y=g,N=t(2994),b=function(e){var s=e.profile;return(0,k.jsxs)("form",{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"Full Name"}),": ",(0,N.Gr)("Full name","fullname",[],N.II)]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,k.jsx)("div",{}),(0,k.jsx)("button",{onClick:function(){},children:"save"})]})},M=t(5861),C=t(7757),S=t.n(C),w=(t(6072),t(1297)),I=t(3442),A=t(4415),F=t(4136),Z=function(){var e=(0,A.TL)(),s=(0,w.Uploader)({apiKey:"free"}),t=function(){var s=(0,M.Z)(S().mark((function s(t){var i,o,n;return S().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,fetch(t);case 3:return i=s.sent,s.next=6,i.blob();case 6:o=s.sent,n=new File([o],"image.jpg",{type:o.type}),e((0,F.Ju)(n));case 9:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,k.jsx)("div",{children:(0,k.jsx)(I.UploadButton,{uploader:s,options:{multi:!1,editor:{images:{crop:!0}}},onComplete:function(e){return function(e){t(e[0].fileUrl)}(e)},children:function(e){var s=e.onClick;return(0,k.jsx)("button",{onClick:s,style:{marginTop:"75px"},children:"Upload a file..."})}})})},B=t(1335),D=["profile","isOwner","savePhoto"],E=function(e){var s=e.profile,t=e.isOwner,i=(e.savePhoto,(0,d.Z)(e,D)),o=(0,a.useState)(!1),n=(0,u.Z)(o,2),r=n[0],l=n[1];return(0,k.jsx)("div",{className:c,children:(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)("div",{className:f,children:(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)("img",{src:null!==(null===s||void 0===s?void 0:s.photos.large)?null===s||void 0===s?void 0:s.photos.large:(0,B.s)(),className:v}),(0,k.jsx)("div",{className:m,children:(0,k.jsx)(Z,{})})]})}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsxs)("div",{className:j,children:[(0,k.jsx)("div",{children:"Status:"}),(0,k.jsx)(y,{status:i.status,updateStatus:i.updateStatus})]}),r?(0,k.jsx)("div",{className:x,children:(0,k.jsx)(b,{profile:s})}):(0,k.jsx)("div",{className:x,children:(0,k.jsx)(U,{goToEditMode:function(){return l(!0)},profile:s,isOwner:t})})]})]})})},U=function(e){var s=e.profile,t=e.isOwner,i=e.goToEditMode;return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"Full Name"}),": ",s.fullName]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"My professional skills"}),": ",s.lookingForAJobDescription]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,k.jsx)("div",{}),t&&(0,k.jsx)("button",{onClick:i,className:P,children:"edit"})]})},J="MyPosts_myPostContainer__3vuVZ",L="MyPosts_addForm__CwT0C",T="MyPosts_formContainer__Vqz3M",O="MyPosts_textArea__M7vK7",K="MyPosts_addPostButton__Lcz4a",V="MyPosts_messageBlock__4JDWJ",z="MyPosts_item__ydHH-",G="MyPosts_paginationBlock__3AASw",Q="MyPosts_pagination__NnNu+",H="Post_postContainer__jxQ-s",q="Post_avaBlock__8rQEc",R="Post_ava__wjWVP",W="Post_textBlock__UkJVG",Y="Post_name__Xr5Bj",$="Post_message__Qy6Nf",X="Post_like__wVdVD",ee=t(6060),se=function(e){return(0,k.jsxs)("div",{className:H,children:[(0,k.jsx)("div",{className:q,children:(0,k.jsx)("img",{src:e.img,alt:"avatar",className:R})}),(0,k.jsxs)("div",{className:W,children:[(0,k.jsx)("div",{className:Y,children:e.name}),(0,k.jsx)("div",{className:$,children:e.post})]}),(0,k.jsx)("img",{src:ee,alt:"likePNG",className:X,onClick:function(){return e.addLike(e.p.id)}})," ",e.likesCount]})},te=t(6139),ie=t(704),oe=t(5304),ne=a.memo((function(e){for(var s=(0,a.useState)(1),t=(0,u.Z)(s,2),i=t[0],o=t[1],n=e.state.postData,r=Math.ceil(n.length/5),l=[],d=1;d<r+1;d++)l.push(d);var c=function(e){if(1===e)return n.slice(0,5);if(e>1){var s=5*e-5,t=5*e;return n.slice(s,t)}}(i),p=c.map((function(s){return(0,k.jsx)("div",{children:(0,k.jsx)(se,{img:s.avatar,name:s.name,post:s.message,likesCount:s.likesCount,buttonName:"Like",addLike:e.addLike,p:s})},s.id)})),f=l.map((function(e,s){var t=i===e?{color:"rgb(211, 181, 91)"}:{};return(0,k.jsx)("span",{className:Q,style:t,onClick:function(){return o(e)},children:e},s)}));return(0,k.jsxs)("div",{className:J,children:[(0,k.jsx)("div",{className:L,children:(0,k.jsx)(ae,{onSubmit:function(s){e.addPost(s.newMessageBody)}})}),(0,k.jsx)("div",{className:V,children:(0,k.jsx)("div",{className:z,children:p})}),(0,k.jsx)("div",{className:G,children:f.length>1&&f})]})})),re=(0,oe.D)(10),ae=(0,ie.Z)({form:"profileAddMessageForm"})((function(e){var s=(0,A.TL)();return(0,k.jsxs)("form",{onSubmit:e.handleSubmit,className:T,children:[(0,k.jsx)(te.Z,{component:N.Kx,name:"newMessageBody",placeholder:"Enter your message",className:O,validate:[oe.C,re],onKeyDown:function(e){13===e.keyCode&&s((0,F.Pi)(e.currentTarget.value))}}),(0,k.jsx)("button",{className:K,children:"AddPost"})]})})),le=t(8687),ue=(0,le.$j)((function(e){return{state:e.profile}}),(function(e){return{addPost:function(s){e((0,F.Pi)(s))},addLike:function(s){e((0,F.dE)(s))}}}))(ne),de=t(4667),ce=function(e){return e.profile?(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)(E,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,k.jsx)(ue,{})]}):(0,k.jsx)(de.p,{})},pe=t(9271),fe=t(7781),he=function(e){(0,n.Z)(t,e);var s=(0,r.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,k.jsx)(ce,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})}}]),t}(a.Component),ve=(0,fe.qC)((0,le.$j)((function(e){return{profile:e.profile.profile,status:e.profile.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfileThunk:F.TE,getStatus:F.lR,updateStatus:F.Nf,savePhoto:F.Ju}),pe.EN)(he)},6060:function(e,s,t){e.exports=t.p+"static/media/like.3bd2642bff63c07e1428.png"}}]);
//# sourceMappingURL=608.c23a9fae.chunk.js.map