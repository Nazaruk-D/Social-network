"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[42],{6042:function(s,e,a){a.r(e),a.d(e,{default:function(){return P}});var i=a(8687),n=a(111),t=a(7781),d=a(2791),l={dialogsContainer:"Dialogs_dialogsContainer__utsXu",friendsList:"Dialogs_friendsList__-PNM8",title:"Dialogs_title__NhgXm",messages:"Dialogs_messages__UmrN6",textField:"Dialogs_textField__escT9",buttonBlock:"Dialogs_buttonBlock__-Rngu"},r=a(6139),c=a(704),o=a(2994),u=a(5304),g=a(9271),_=a(885),m="Message_messageContainer__RgjE-",j="Message_myMessageBlock__F329T",x="Message_myMessage__4rjng",h="Message_data__vD1dv",v="Message_delete__pOkaF",f="Message_friendsMessageBlock__NaEXT",M="Message_friendsMessage__if86N",N=a(6856),k=a(184),p=function(s){var e=(0,g.UO)().userId,a=(0,d.useState)(!0),i=(0,_.Z)(a,2),n=i[0],t=(i[1],n?{opacity:"100%"}:{opacity:"0%"});return(0,k.jsx)("div",{className:m,children:s.messages.map((function(a){return a.myPost?(0,k.jsxs)("div",{className:j,children:[(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)("div",{children:a.message}),(0,k.jsx)("div",{className:h,children:a.dataMessage})]}),(0,k.jsx)("div",{className:v,onClick:function(){return i=e,n=a.idMessage,void s.deleteMessage(i,n);var i,n},style:t,children:(0,k.jsx)(N.FH3,{style:{fontSize:"20px"}})})]},a.idMessage):(0,k.jsx)("div",{className:f,children:(0,k.jsxs)("div",{className:M,children:[(0,k.jsx)("div",{children:a.message}),(0,k.jsx)("div",{className:h,children:a.dataMessage})]})},a.idMessage)}))})},y="FriendsList_friendBlock__VubZB",F="FriendsList_friend__H1RoS",b="FriendsList_ava__qeGjP",D="FriendsList_nameTd__POguG",S=a(1523),B=function(s){return(0,k.jsx)("div",{className:y,children:(0,k.jsxs)(S.OL,{to:"/dialogs/"+s.id,className:F,children:[(0,k.jsx)("img",{src:s.ava,className:b,alt:""}),(0,k.jsx)("div",{className:D,children:s.name})]})})},C=(0,u.D)(50),L=(0,c.Z)({form:"dialogAddMessageForm"})((function(s){return(0,k.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,k.jsx)("div",{children:(0,k.jsx)(r.Z,{component:o.Kx,validate:[u.C,C],name:"newMessageBody",placeholder:"Enter your message",className:l.textField})}),(0,k.jsx)("div",{className:l.buttonBlock,children:(0,k.jsx)("button",{className:l.button,children:"Send message"})})]})})),Z=a(8683),w=a(5987),A=a(2717),O=["isAuth"],E=function(s){return{isAuth:s.auth.isAuth}};var P=(0,t.qC)((function(s){return(0,i.$j)(E,{getAuthUserData:A.RK,logout:A.kS})((function(e){var a=e.isAuth,i=(0,w.Z)(e,O);return a?(0,k.jsx)(s,(0,Z.Z)({},i)):(0,k.jsx)(g.l_,{to:"/login"})}))}),(0,i.$j)((function(s){return{dialogs:s.dialogs}}),(function(s){return{SendMessage:function(e,a){s((0,n.XE)(e,a))},DeleteMessage:function(e,a){s((0,n.$Z)(e,a))}}})))((function(s){var e=(0,g.UO)().userId,a=function(e,a){s.DeleteMessage(e,a)},i=s.dialogs.map((function(s){return(0,k.jsx)("div",{children:(0,k.jsx)(B,{name:s.name,id:s.id,ava:s.ava})},s.id)})),n=s.dialogs.map((function(s,i){return s.id===e?(0,k.jsx)("div",{children:(0,k.jsx)(p,{messages:s.messages,deleteMessage:a})},i):null}));return(0,k.jsxs)("div",{className:l.dialogsContainer,children:[(0,k.jsxs)("div",{className:l.friendsList,children:[(0,k.jsx)("div",{className:l.title,children:"Friends list"}),i]}),(0,k.jsxs)("div",{className:l.messages,children:[(0,k.jsx)("div",{children:n}),e&&(0,k.jsx)(L,{onSubmit:function(a){s.SendMessage(a.newMessageBody,e)}})]})]})}))}}]);
//# sourceMappingURL=42.3b9e4efd.chunk.js.map