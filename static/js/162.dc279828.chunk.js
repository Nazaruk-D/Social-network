"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[162],{6162:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var i=e(5671),n=e(3144),a=e(136),r=e(5716),u=e(2791),o="Profile_profile__MpyjA",d="ProfileInfo_main__xzfxj",c=e(184),p=function(t){(0,a.Z)(e,t);var s=(0,r.Z)(e);function e(){var t;(0,i.Z)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=s.call.apply(s,[this].concat(a))).state={editMode:!1,status:t.props.status},t.activateEditeMode=function(){t.setState({editMode:!0})},t.deactivateEditeMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,n.Z)(e,[{key:"componentDidUpdate",value:function(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,c.jsxs)("div",{children:[!this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:this.activateEditeMode,children:this.props.status?this.props.status:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditeMode,autoFocus:!0})})]})}}]),e}(u.Component),l=p,h=function(t){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:d,children:(0,c.jsx)("img",{src:t.img})}),(0,c.jsxs)("div",{children:[t.profile&&(0,c.jsx)("img",{src:t.profile.photos.small}),(0,c.jsx)(l,{status:t.status,updateStatus:t.updateStatus})]})]})},f="MyPosts_item__1ydKA",m="MyPosts_textArea__cVUs8",j="Post_item__yKcCk",x=function(t){return(0,c.jsx)("span",{children:(0,c.jsxs)("div",{className:j,children:[(0,c.jsx)("span",{children:(0,c.jsx)("img",{src:t.img,alt:""})}),(0,c.jsx)("div",{children:t.post}),(0,c.jsxs)("button",{children:[t.buttonName," ",t.likesCount]})]})})},v=e(6139),g=e(704),S=e(5304),y=e(816),_=u.memo((function(t){var s=t.state.postData.map((function(t){return(0,c.jsx)("div",{children:(0,c.jsx)(x,{img:t.avatar,post:t.message,likesCount:t.likesCount,buttonName:"Like"})},t.id)}));return(0,c.jsxs)("div",{children:[(0,c.jsx)(M,{onSubmit:function(s){t.addPost(s.newMessageBody)}}),(0,c.jsx)("div",{className:f,children:s})]})})),k=(0,S.D)(10),M=(0,g.Z)({form:"profileAddMessageForm"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)(v.Z,{component:y.Kx,name:"newMessageBody",placeholder:"Enter your message",className:m,validate:[S.C,k]}),(0,c.jsx)("button",{children:"AddPost"})]})})),C=e(8687),A=e(4136),Z=(0,C.$j)((function(t){return{state:t.profile}}),(function(t){return{addPost:function(s){t((0,A.Pi)(s))}}}))(_),b=e(4945),w=function(t){return t.profile?(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)(h,{img:"https://www.eurohandball.com/media/f0rhclep/microsoftteams-image-267.png?center=0.40662327708788731,0.27796471311115661&mode=crop&width=1980&height=768&rnd=132863759739570000",profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(Z,{})]}):(0,c.jsx)(b.Z,{color:"#b70000",size:50})},P=e(9271),N=e(2932),D=e(7781),E=function(t){(0,a.Z)(e,t);var s=(0,r.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,c.jsx)(w,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),e}(u.Component),U=(0,D.qC)((0,C.$j)((function(t){return{profile:t.profile.profile,status:t.profile.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{setUserProfileThunk:A.TE,getStatus:A.lR,updateStatus:A.Nf}),P.EN,N.D)(E)},2932:function(t,s,e){e.d(s,{D:function(){return p}});var i=e(8683),n=e(5987),a=(e(2791),e(9271)),r=e(8687),u=e(6483),o=e(184),d=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function p(t){return(0,r.$j)(c,{getAuthUserData:u.RK,logout:u.kS})((function(s){var e=s.isAuth,r=(0,n.Z)(s,d);return e?(0,o.jsx)(t,(0,i.Z)({},r)):(0,o.jsx)(a.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=162.dc279828.chunk.js.map